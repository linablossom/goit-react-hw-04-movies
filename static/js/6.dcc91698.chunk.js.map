{"version":3,"sources":["routes/movieRoutes.js","components/Cast.js","components/Reviews.js","components/MovieDetailsPage.js","views/MovieView.js"],"names":["movieRoutes","name","path","exact","component","state","cast","id","loadCast","a","movieId","props","match","params","axios","get","response","setState","data","console","log","this","map","cast_id","profile_path","original_name","character","src","alt","Component","reviews","authorId","getReview","results","author","content","MovieDetailsPage","details","poster_path","title","release_date","vote_average","overview","genres","date","Date","getFullYear","userScore","Math","floor","movieGenres","join","type","onClick","goBack","MovieTabs","styled","Navigation","MovieView","loaded","loading","prevPath","location","history","push","routes","basePath","url","ContentSwitcher","React"],"mappings":"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","file":"static/js/6.dcc91698.chunk.js","sourcesContent":["import Cast from \"../components/Cast\";\nimport Reviews from \"../components/Reviews\";\n\nexport const movieRoutes = [\n  {\n    name: \"Cast\",\n    path: \"/cast\",\n    exact: true,\n    component: Cast,\n  },\n  {\n    name: \"Reviews\",\n    path: \"/reviews\",\n    exact: true,\n    component: Reviews,\n  },\n];\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\n\nconst BASE_IMG_URL = \"https://www.themoviedb.org/t/p/w138_and_h175_face/\";\n\nclass Cast extends Component {\n  state = {\n    cast: [],\n    id: 451048,\n  };\n\n  loadCast = async () => {\n    try {\n      const { movieId } = this.props.match.params;\n      const response = await axios.get(\n        `https://api.themoviedb.org/3/movie/${movieId}/credits?api_key=24f3be077b2e648be81bca41e098d522`\n      );\n      this.setState({ cast: response.data.cast });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  componentDidMount() {\n    this.loadCast();\n  }\n\n  render() {\n    return (\n      <ul>\n        {this.state.cast.map(\n          ({ cast_id: id, profile_path, original_name, character, name }) => (\n            <li key={`cast-${id}`}>\n              {profile_path ? (\n                <img src={BASE_IMG_URL + profile_path} alt={name} />\n              ) : null}\n              {original_name ? <p>{original_name}</p> : null}\n              {character ? <p>Character: {character}</p> : null}\n            </li>\n          )\n        )}\n      </ul>\n    );\n  }\n}\n\nexport default Cast;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\n\nclass Reviews extends Component {\n  state = {\n    reviews: [],\n    id: 451048,\n    authorId: \"\",\n  };\n\n  getReview = async () => {\n    try {\n      const response = await axios.get(\n        `https://api.themoviedb.org/3/movie/${this.state.id}/reviews?api_key=24f3be077b2e648be81bca41e098d522`\n      );\n      this.setState({ reviews: response.data.results });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  componentDidMount() {\n    this.getReview();\n  }\n\n  render() {\n    return (\n      <ul>\n        {this.state.reviews.map(({ id, author, content }) => (\n          <li key={`review-${id}`}>\n            <h4>Author: {author}</h4>\n            <p>{content}</p>\n          </li>\n        ))}\n      </ul>\n    );\n  }\n}\n\nexport default Reviews;\n","import React, { Component } from \"react\";\n\nconst BASE_IMG_URL = \"https://www.themoviedb.org/t/p/w300_and_h450_bestv2/\";\n\nclass MovieDetailsPage extends Component {\n  render() {\n    const {\n      poster_path,\n      title,\n      release_date,\n      vote_average,\n      overview,\n      genres,\n    } = this.props.details;\n\n    const date = new Date(release_date).getFullYear();\n    const userScore = Math.floor(+vote_average * 10);\n    const movieGenres = genres.map(({ name }) => name).join(\", \");\n\n    return (\n      <>\n        <button type=\"button\" onClick={this.props.goBack}>\n          &larr; Go back\n        </button>\n\n        <article>\n          {poster_path ? (\n            <img src={BASE_IMG_URL + poster_path} alt={title} />\n          ) : null}\n          <h2>\n            {title ? title : null} ({date ? date : null})\n          </h2>\n          {userScore ? <p>User score: {userScore}%</p> : null}\n          <h3>Overview</h3>\n          {overview ? <p>{overview}</p> : null}\n          <h4>Genres</h4>\n          {movieGenres ? <p>{movieGenres}</p> : null}\n        </article>\n        <p>Additional information</p>\n      </>\n    );\n  }\n}\n\nexport default MovieDetailsPage;\n","import React from \"react\";\nimport ContentSwitcher from \"../components/ContentSwitcher\";\nimport axios from \"axios\";\nimport { movieRoutes } from \"../routes/movieRoutes\";\nimport Navigation from \"../components/Navigation/Navigation\";\nimport MovieDetailsPage from \"../components/MovieDetailsPage\";\nimport styled from \"styled-components\";\n\nconst MovieTabs = styled(Navigation)`\n  ul {\n    display: flex;\n    flex-direction: column;\n    list-style: square;\n  }\n  li {\n    color: red;\n    margin: 10px 0 0 20px;\n  }\n`;\n\nclass MovieView extends React.Component {\n  state = {\n    loaded: false,\n    loading: false,\n    details: null,\n  };\n\n  async componentDidMount() {\n    try {\n      this.setState({ loading: true });\n      const { movieId } = this.props.match.params;\n      const response = await axios.get(\n        `https://api.themoviedb.org/3/movie/${movieId}?api_key=24f3be077b2e648be81bca41e098d522`\n      );\n      this.setState({ details: response.data, loading: false, loaded: true });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  render() {\n    if (!this.state.loaded || this.state.loading) return null;\n    const { prevPath } = this.props.location.state || {};\n\n    return (\n      <>\n        <MovieDetailsPage\n          details={this.state.details}\n          goBack={() => this.props.history.push(prevPath)}\n        />\n        <MovieTabs\n          routes={movieRoutes}\n          basePath={this.props.match.url}\n          prevPath={prevPath}\n        />\n        <ContentSwitcher\n          routes={movieRoutes}\n          basePath={this.props.match.path}\n        />\n      </>\n    );\n  }\n}\n\nexport default MovieView;\n"],"sourceRoot":""}