(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[5],{48:function(e,t,a){"use strict";a(0);var n,r=a(10),c=a(8),s=a(9).a.ul(n||(n=Object(c.a)(["\n  margin: 30px 40px;\n  padding: 0;\n\n  .homeListItem + .homeListItem {\n    margin-top: 8px;\n  }\n\n  .homeListItem:hover,\n  .activeHomeListLink {\n    color: teal;\n  }\n"]))),o=a(1);t.a=function(e){var t=e.movies,a=e.prevPath;return Object(o.jsx)(s,{className:"homeList",children:t.map((function(e){var t=e.title,n=e.id;return Object(o.jsx)("li",{className:"homeListItem",children:Object(o.jsx)(r.b,{className:"homeListLink",activeClassName:"activeHomeListLink",to:{pathname:"/movies/".concat(n),state:{prevPath:a}},exact:!0,children:t})},n)}))})}},77:function(e,t,a){"use strict";a.r(t);var n=a(45),r=a.n(n),c=a(46),s=a(41),o=a(42),i=a(44),u=a(43),h=a(0),p=a(47),l=a.n(p),v=a(1),m=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={query:""},e.onInputChange=function(t){e.setState({query:t})},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return Object(v.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.props.onSearch(e.state.query)},children:[Object(v.jsx)("label",{children:Object(v.jsx)("input",{type:"text",value:this.state.query,onChange:function(t){return e.setState({query:t.target.value})}})}),Object(v.jsx)("button",{type:"submit",children:"Search"})]})}}]),a}(h.Component),b=a(48),f=function(e){return e.replace(/.*[?&]search=(.*?)(?:&|$).*/,"$1")},j=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={searchedMovies:[]},e.onSearch=function(){var t=Object(c.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props.history.push({search:"?search=".concat(a)});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.clearMovies=function(){e.setState({searchedMovies:[]})},e.loadMovies=function(){var t=Object(c.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.get("https://api.themoviedb.org/3/search/movie?api_key=24f3be077b2e648be81bca41e098d522&language=en-US&page=1&include_adult=false&query=".concat(a));case 3:n=t.sent,e.setState({searchedMovies:n.data.results}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(e){var t=f(this.props.location.search);t!==f(e.location.search)&&(t?this.loadMovies(t):this.clearMovies())}},{key:"componentDidMount",value:function(){var e=f(this.props.location.search);e&&this.loadMovies(e)}},{key:"render",value:function(){var e=f(this.props.location.search);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(m,{onSearch:this.onSearch}),Object(v.jsx)(b.a,{movies:this.state.searchedMovies,prevPath:"/movies?search=".concat(e)})]})}}]),a}(h.Component);t.default=j}}]);
//# sourceMappingURL=5.724abb8f.chunk.js.map